<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>CentOS_7_软件安装管理 | jyhuang&#39;s blogs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="1. 软件包的分类 1.1 源码包 1.2 二进制包（RPM 包，也叫系统默认包） 1.3 脚本安装包   2. rpm 包管理 2.1 rpm 包相关 2.2 rpm 安装 2.3 rpm 升级 2.4 rpm 包卸载 2.5 rpm 包查询 2.5.1 查询是否安装 2.5.2 查询软件包信息 2.5.3 查询包中文件安装的位置 2.5.4 查询系统文件所属的 rpm 包 2.5.5 查询">
<meta name="keywords" content="CentOS 7">
<meta property="og:type" content="article">
<meta property="og:title" content="CentOS_7_软件安装管理">
<meta property="og:url" content="http://yoursite.com/2017/09/17/CentOS-7-软件安装管理/index.html">
<meta property="og:site_name" content="jyhuang&#39;s blogs">
<meta property="og:description" content="1. 软件包的分类 1.1 源码包 1.2 二进制包（RPM 包，也叫系统默认包） 1.3 脚本安装包   2. rpm 包管理 2.1 rpm 包相关 2.2 rpm 安装 2.3 rpm 升级 2.4 rpm 包卸载 2.5 rpm 包查询 2.5.1 查询是否安装 2.5.2 查询软件包信息 2.5.3 查询包中文件安装的位置 2.5.4 查询系统文件所属的 rpm 包 2.5.5 查询">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2017-09-17T15:01:33.690Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CentOS_7_软件安装管理">
<meta name="twitter:description" content="1. 软件包的分类 1.1 源码包 1.2 二进制包（RPM 包，也叫系统默认包） 1.3 脚本安装包   2. rpm 包管理 2.1 rpm 包相关 2.2 rpm 安装 2.3 rpm 升级 2.4 rpm 包卸载 2.5 rpm 包查询 2.5.1 查询是否安装 2.5.2 查询软件包信息 2.5.3 查询包中文件安装的位置 2.5.4 查询系统文件所属的 rpm 包 2.5.5 查询">
  
    <link rel="alternate" href="/atom.xml" title="jyhuang&#39;s blogs" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">jyhuang&#39;s blogs</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-CentOS-7-软件安装管理" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/17/CentOS-7-软件安装管理/" class="article-date">
  <time datetime="2017-09-17T15:00:56.000Z" itemprop="datePublished">2017-09-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      CentOS_7_软件安装管理
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- toc -->
<ul>
<li><a href="#1-软件包的分类">1. 软件包的分类</a><ul>
<li><a href="#11-源码包">1.1 源码包</a></li>
<li><a href="#12-二进制包rpm-包也叫系统默认包">1.2 二进制包（RPM 包，也叫系统默认包）</a></li>
<li><a href="#13-脚本安装包">1.3 脚本安装包</a></li>
</ul>
</li>
<li><a href="#2-rpm-包管理">2. rpm 包管理</a><ul>
<li><a href="#21-rpm-包相关">2.1 rpm 包相关</a></li>
<li><a href="#22-rpm-安装">2.2 rpm 安装</a></li>
<li><a href="#23-rpm-升级">2.3 rpm 升级</a></li>
<li><a href="#24-rpm-包卸载">2.4 rpm 包卸载</a></li>
<li><a href="#25-rpm-包查询">2.5 rpm 包查询</a><ul>
<li><a href="#251-查询是否安装">2.5.1 查询是否安装</a></li>
<li><a href="#252-查询软件包信息">2.5.2 查询软件包信息</a></li>
<li><a href="#253-查询包中文件安装的位置">2.5.3 查询包中文件安装的位置</a></li>
<li><a href="#254-查询系统文件所属的-rpm-包">2.5.4 查询系统文件所属的 rpm 包</a></li>
<li><a href="#255-查询软件包的依赖性">2.5.5 查询软件包的依赖性</a></li>
</ul>
</li>
<li><a href="#26-rpm-包校验">2.6 rpm 包校验</a></li>
<li><a href="#27-rpm-包文件提取">2.7 rpm 包文件提取</a></li>
</ul>
</li>
<li><a href="#3-yum-在线安装">3. yum 在线安装</a><ul>
<li><a href="#31-yum-配置文件">3.1 yum 配置文件</a></li>
<li><a href="#32-yum-本地安装">3.2 yum 本地安装</a></li>
<li><a href="#33-yum-命令">3.3 yum 命令</a></li>
<li><a href="#34-yum-缓存">3.4 yum 缓存</a></li>
<li><a href="#35-yum-配置文件">3.5 yum 配置文件</a></li>
<li><a href="#34-源码包安装">3.4 源码包安装</a><ul>
<li><a href="#341-源码包和-rpm-的区别">3.4.1 源码包和 rpm 的区别</a></li>
<li><a href="#342-安装">3.4.2 安装</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- tocstop -->
<hr>
<h1><span id="1-软件包的分类">1. 软件包的分类</span></h1><p>Linux 中只有两种软件包，就是源码包和二进制包</p>
<h2><span id="11-源码包">1.1 源码包</span></h2><ul>
<li>优点<ul>
<li>开源，如果有足够的能力，可以修改源代码；</li>
<li>可以自由选择所需的功能；</li>
<li>软件是编译安装，所以更加适合自己的系统，更加稳定、效率更高；</li>
<li>卸载方便；</li>
</ul>
</li>
<li>缺点<ul>
<li>安装过程步骤较多，尤其安装较大的软件集合时（如 LAMP 环境搭建），容易出现拼写错误；</li>
<li>编译过程时间较长，安装比二进制安装时间长；</li>
<li>因为是编译安装，安装过程中一旦报错新手很难解决；</li>
</ul>
</li>
</ul>
<h2><span id="12-二进制包rpm-包也叫系统默认包">1.2 二进制包（RPM 包，也叫系统默认包）</span></h2><ul>
<li>优点<ul>
<li>包管理系统简单，只用几个命令就可以实现安装、升级、查询和卸载</li>
<li>安装速度比源码包快多了</li>
</ul>
</li>
<li>缺点<ul>
<li>经过编译，不再可以看到源代码</li>
<li>功能选择不如源码包灵活</li>
<li>依赖性</li>
</ul>
</li>
</ul>
<h2><span id="13-脚本安装包">1.3 脚本安装包</span></h2><p>所谓的脚本安装包，就是把复杂的软件包安装过程写成了程序脚本，初学者可以执行程序脚本实现一键安装，其本质还是安装源码包和二进制包。</p>
<p>优点：安装简单、快捷（和 Windows 下安装软件时的一键安装很类似。）<br>缺点：完全丧失了自定义性。（在 Windows 下，我们没办法再更改安装路径。）</p>
<h1><span id="2-rpm-包管理">2. rpm 包管理</span></h1><h2><span id="21-rpm-包相关">2.1 rpm 包相关</span></h2><ul>
<li>RPM 包的来源：RPM包在系统光盘的 Packages 目录中</li>
</ul>
<ul>
<li>RPM 包命名规则：以 httpd-2.2.15-15.el6.centos.1.i686.rpm 为例<ul>
<li>httpd：软件包名</li>
<li>2.2.15：软件版本</li>
<li>15：软件发布的次数</li>
<li>el6.centos：适合的linux平台</li>
<li>i686：适合的硬件平台，除 x64，其余 ixxx 都是 32 位</li>
<li>rpm：rpm包扩展名</li>
</ul>
</li>
<li>RPM 包依赖性<ul>
<li>树形依赖：a -&gt; b -&gt; c，对于此依赖，根据提示依次安装即可</li>
<li>环形依赖：a -&gt; b -&gt; c -&gt; a</li>
<li>模块依赖：此依赖表示依赖的是一个库文件，文件名以 “.so” 结尾。此时无法直接通过 rpm 命令安装该库文件，需要通过查询 “www.rpmfind.net” 网站找到含有此库文件的 rpm 包，然后安装查询到的包即可</li>
</ul>
</li>
<li>包全名与包名<ul>
<li>包全名：操作的包是没有安装的软件包时，使用包全名，而且需要注意路径，确保系统能找到该包</li>
<li>包名：操作已经安装的软件时（卸载、查询）时，使用包名即可，系统会去 /var/lib/rpm/ 下的数据库中搜索已经安装的对应包</li>
</ul>
</li>
</ul>
<h2><span id="22-rpm-安装">2.2 rpm 安装</span></h2><p>格式：rpm -ivh 包全名</p>
<p>选项：</p>
<ul>
<li>-i(install)：安装</li>
<li>-v(verbose)：显示详细信息</li>
<li>-h(hash)：显示进度</li>
<li>–nodepes：不检测依赖性，强制安装，对于需要安装依赖包的软件，使用此选项是虽能安装软件包，但无法实现功能，所以通常情况下，是不允许使用的。</li>
</ul>
<p>说明：</p>
<ul>
<li>安装命令并不复杂，主要是需要处理包的依赖性</li>
<li>安装过程中第一个 100% 表示准备成功，第二个 100% 表示安装成功</li>
<li>由于 rpm 包的安装互相依赖极其繁琐，所以通常会使用 yum 在线安装，但是 yum 安装不能实现 RPM 包的查询以及校验</li>
</ul>
<h2><span id="23-rpm-升级">2.3 rpm 升级</span></h2><p>格式：rpm -Uvh 包全名</p>
<p>选项：</p>
<ul>
<li>-U(upgrade)：升级</li>
</ul>
<p>说明：</p>
<ul>
<li>升级包对于系统而言，同样是未安装的，所有需要使用的包全名，并且注意包的路径</li>
<li>由于是升级，所以新包的版本应该高于旧包</li>
<li>对于从未安装的包，此命令也有效，此时功能等价于使用安装命令，即 rpm 的安装也可以使用升级命令</li>
</ul>
<h2><span id="24-rpm-包卸载">2.4 rpm 包卸载</span></h2><p>格式：rpm -e 包名</p>
<p>选项：</p>
<ul>
<li>-e(erase)：卸载</li>
<li>–nodeps：不检查依赖性，基本不允许使用</li>
</ul>
<h2><span id="25-rpm-包查询">2.5 rpm 包查询</span></h2><h3><span id="251-查询是否安装">2.5.1 查询是否安装</span></h3><ul>
<li><code>rpm -q 包名</code>：查询指定包是否安装，query</li>
<li><code>rpm -qa</code>：查询所有已安装包，query all</li>
</ul>
<h3><span id="252-查询软件包信息">2.5.2 查询软件包信息</span></h3><p>软件包的信息是包作者提前写到包中的，是一些包的简介，参考价值并不大，不过可以在此信息中找到该包对应的官网，获取更详细的帮助。由于这些信息是提前写好的，所以，无论软件包是否安装，都可以通过此命令查询包的信息</p>
<ul>
<li><code>rpm -qi 包名</code>：查询指定已安装包的信息，query information</li>
<li><code>rpm -qip 包名</code>：查询指定未安装包的信息，query informatio package</li>
</ul>
<h3><span id="253-查询包中文件安装的位置">2.5.3 查询包中文件安装的位置</span></h3><p>同软件包的信息类似，软件包文件的安装位置也是包作者提前指定好的，无论软件包是否安装，都可以通过此命令查询包中文件的安装位置。但是，不同的作者，对文件位置的处理并不一致，所以包与包之间会存在一定和差异。</p>
<ul>
<li><code>rpm -ql 包名</code>：查询指定已安装包中文件的安装位置，query list</li>
<li><code>rpm -qlp 包名</code>：查询指定未安装包中文件的安装位置，query　list package</li>
</ul>
<p>通常情况下 rpm 包的<span id="rpmDefDir">默认安装位置</span></p>
<table>
<thead>
<tr>
<th>安装目录　</th>
<th>　说明　</th>
</tr>
</thead>
<tbody>
<tr>
<td>/etc/</td>
<td>配置文件安装目录　</td>
</tr>
<tr>
<td>/usr/sbin/ 或 /usr/bin</td>
<td>软件包中可执行命令的安装目录　</td>
</tr>
<tr>
<td>/usr/lib</td>
<td>软件包所需要使用的库文件　</td>
</tr>
<tr>
<td>/usr/share/doc</td>
<td>　软件包的使用文档保存目录　</td>
</tr>
<tr>
<td>/usr/share/man</td>
<td>　软件包使用手册的保存目录　</td>
</tr>
</tbody>
</table>
<h3><span id="254-查询系统文件所属的-rpm-包">2.5.4 查询系统文件所属的 rpm 包</span></h3><p>与上条命令功能相反，此命令是根据文件找到对应的 rpm 包。注意：此的文件必须是通过安装 rpm　生成的。</p>
<ul>
<li><code>rpm -qf 文件</code>：查询文件属性于哪个 rpm 软件包，query file</li>
</ul>
<h3><span id="255-查询软件包的依赖性">2.5.5 查询软件包的依赖性</span></h3><p>软件包的依赖性也是由包本身决定，与是否被安装无关，所以，无论软件包是否安装，都可以通过此命令查询包的依赖性。不过，此命令的列出的依赖太过详细，往往会包含一些系统最基本的包、命令、库文件等，而这些都是安装完系统肯定存在的，根本无须用户手动安装，所以，真正需要的依赖包通常都是该命令结果集的子集。</p>
<p>对于包依赖性，更多的是使用 rpm　安装命令，根据提示逐个解决。</p>
<ul>
<li><code>rpm -qR 包名</code>： 查询指定的已安装软件包的依赖性</li>
<li><code>rpm -qRp 包名</code>：查询指定的未安装软件包的依赖性</li>
</ul>
<h2><span id="26-rpm-包校验">2.6 rpm 包校验</span></h2><p>对软件包的安装完成的文件进行校验，判断文件是否被修改</p>
<ul>
<li><code>rpm -V 包名</code>：校验指定的已安装的包，verify</li>
</ul>
<p>说明：</p>
<ul>
<li>该命令执行之后，如果没有任何回馈信息，则表示该　rpm 包下的文件一切正常</li>
</ul>
<ul>
<li>执行结果格式举例：<code>S.5....T.  c /etc/httped/conf/httpd.conf</code><pre><code>+ `S.5....T.`，对应位置存在值，表示文件相关信息被改变
 - S：文件大小是否改变
 - M：文件的类型或文件的权限（rwx）是否被改变
 - 5：文件MD5校验和是否改变（可以看成文件内容是否改变）
 - D：设备的主从代码是否改变
 - L：文件路径是否改变
 - U：文件的属主（所有者）是否改变
 - G：文件的属组是否改变
 - T：文件的修改时间是否改变
+ `c`，表示文件类型
 - c：配置文件（config file）
 - d：普通文档（documentation）
 - g：“鬼”　文件（ghost file），很少见，就是该文件不应该被这个　RPM　包中；
 - L：授权文件（license file）
 - r：描述文件（read me）
</code></pre></li>
</ul>
<h2><span id="27-rpm-包文件提取">2.7 rpm 包文件提取</span></h2><p>从 rpm 包中提取需要文件，通常用于因为误操作删除了一些系统文件导致某些功能无法使用，此时需要从对应的 rpm 包中找到被误删除的文件，并拷贝到对应目录下来使功能正常使用，当然也可以直接重新安装该 rpm 软件包。</p>
<ul>
<li><code>rpm2cpio 包全名 ｜ cpio -idv .文件/目录绝对路径</code><ul>
<li>rpm2cpip：将 rpm 包格式转换为 cpio 格式</li>
</ul>
<ul>
<li>cpip：一个标准工具，它用于创建软件档案文件并从档案文件中提取文件<ul>
<li>命令格式：cpio 选项 目标文件/目录 &lt; 档案文件源</li>
</ul>
<ul>
<li>选项：<ul>
<li>-i：copy-in模式，还原/解压</li>
<li>-d：还原时自动新建需要的目录</li>
<li>-v：列出处理的文件/目录</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>说明：</p>
<ul>
<li>rpm2cpio 后指定软件包使用的包全名</li>
<li>cpio 命令只指定了需要抽取的目的文件，所以对于档案文件源需要使用重定向符或者管道命令来指定</li>
<li>对于抽取的目的文件/目录，必须使用绝对路径名，该绝对路径名必须能够使用 <code>rpm -ql [全]包名</code> 命令在对应的 rpm 包软件安装位置中找到，而且，绝对路径名之前的 <code>.</code> 不能省略，代表将找到的文件复制到当前目录下</li>
<li>如果抽取成功，会在执行后输出命令中指定的 ”.绝对路径“ 以及 blocks 数量，否则，只输出 blocks 数量</li>
</ul>
<p>通过以上步骤就可以从 rpm 包中抽取需要的文件/目录，然后将文件/目录保存到对应的目录，即可还原系统功能。</p>
<h1><span id="3-yum-在线安装">3. yum 在线安装</span></h1><p>yum 是 redhat 提供的在线安装工具，用于解决 rpm 安装中依赖性的问题，但其本质还是安装的 rpm 软件包，并且 yum 注重的是安装，对于包的查询、校验等并未提供很好的支持，所以，此时还是需要使用 rpm 来进行包的管理。</p>
<h2><span id="31-yum-配置文件">3.1 yum 配置文件</span></h2><p>通过如下命令查看 yum 的配置文件：<code>ls /etc/yum.repos.d/CentOS-*.repo</code>，默认情况下，有如下文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">CentOS-Base.repo  CentOS-Debuginfo.repo  CentOS-Media.repo    CentOS-Vault.repo</div><div class="line">CentOS-CR.repo    CentOS-fasttrack.repo  CentOS-Sources.repo</div></pre></td></tr></table></figure>
<p>上述配置文件的结构、内容基本相似，其中，系统默认以 CentOS-Base.repo 作为基本配置文件，文件内容大致说明如下：</p>
<ul>
<li>[base]：容器名称，一定要放在 <code>[]</code> 中</li>
<li>name：容器说明，可以自己随意填写</li>
<li>mirrorlist：镜像站点，默认是国外的，相对速度较慢，可以自行修改为国内可用镜像</li>
<li>baseurl：yum 源服务器的地址，默认是 CentOS 官方的 yum 源服务器，此参数和 mirrorlist 是主备关系，使用其一即可，同样此参数可以自行修改为国内可用地址</li>
<li>enabled：此容器是否生效，如果省略或设置为 1，即默认值，否则设为 0，即不生效</li>
<li>gpgcheck：如果是 1 是指 RPM 的数字证书生效，如果是 0 则不生效，建议启用</li>
<li>gpgkey：数字证书的公钥文件保存位置，不用修改</li>
</ul>
<h2><span id="32-yum-本地安装">3.2 yum 本地安装</span></h2><p>对于无法联网、追求快速安装、无须最新版本的情况，可以搭建 yum 的本地安装环境，通过会使用系统盘作为 yum 软件包源，下面简要说明使用光盘搭建本地 yum 的方法。</p>
<ol>
<li>将含有 rpm 包的光盘挂载到系统，此处使用的挂载目录为：<code>/media/cdrom</code></li>
<li>取消系统默认的 yum 网络安装配置，可以使用 <code>enabled=0</code> 将 CentOS-Base.repo 文件中的所有容器设置成不生效，或者直接删除此文件（不建议），推荐修改此文件的文件名，如 CentOS-Base.repo.bak</li>
<li>启用 yum 光盘安装配置，即修改 CentOS-Media.repo 文件内容<ul>
<li>启用窗口，<code>enabled=1</code></li>
<li>修改窗口的 baseurl 为光盘的挂载目录</li>
</ul>
</li>
</ol>
<p>通过以上步骤就搭建好了 yum 的本地安装环境，可以通过 <code>yum list</code> 命令查询本地 yum 中的 rpm 包列表，此时，会先更新本地 yum 数据库信息，如果列出的 Available Packages 的容器名与 CentOS-Media.repo 中配置的容器名一致，说明 yum 本地安装环境搭建成功。</p>
<h2><span id="33-yum-命令">3.3 yum 命令</span></h2><p>格式：yum [选项] 命令 [参数]</p>
<p>常用 yum 命令：</p>
<ul>
<li><code>yum list [命令] [参数]</code><ul>
<li><code>yum list</code>：列出当前 yum Repository 中所有可用的软件包</li>
<li><code>yum list 包名</code>：列出当前 yum Repository 中指定软件包</li>
<li><code>yum list installed</code>：列出当前系统已安装的软件包</li>
<li><code>yum list extras</code>：列出当前已安装但不在 Yum Repository 內的软件包</li>
<li><code>yum list updates</code>：列出当前系统中可更新的软件包</li>
</ul>
</li>
<li><code>yum info [命令] [参数]</code><ul>
<li><code>yum info</code>：列出当前 yum Repository 中所有软件包的信息</li>
<li><code>yum info 包名</code>：列出当前 yum Repository 中指定的软件包信息</li>
<li><code>yum info installed</code>：列出当前系统已安装软件的信息</li>
<li><code>yum info extras</code>：列出当前系统中已安装但不再 yum Repository 中的软件包信息</li>
<li><code>yum info updates</code>：列出当前系统中可更新的软件包信息</li>
</ul>
</li>
</ul>
<ul>
<li><code>yum check-update</code>：列出可更新的软件包列表</li>
<li><code>yum provides 关键字</code>：从当前 yum Repository 中查找包含该关键字（包名、库文件…）的 rpm 软件包</li>
<li><code>yum search 关键字</code>：按照关键字从当前 yum Repository 中查找匹配的软件包</li>
<li><code>yum deplist 包名</code>：查看包的依赖</li>
<li><code>yum repolist</code>：查看当前生效的 yum 源</li>
</ul>
<ul>
<li><code>yum -y 命令 [包名]</code><ul>
<li>-y：选项，表示在整个 yum 命令的执行过程中，对于系统的询问，总是回答 yes</li>
</ul>
<ul>
<li>常用命令<ul>
<li>安装：<code>yum -y install 包名</code></li>
<li>升级：<code>yum -y update 包名</code>，如果省略包名，会升级所有包，包括系统内核程序，耗时长，内核程序的升级容易导致系统崩溃</li>
<li>卸载：<code>yum -y remove 包名</code>，yum 的卸载同安装一样，会自动处理依赖性问题，即自动卸载相关的包、库文件等，容易导致系统崩溃，所以不建议使用 yum 进行卸载</li>
</ul>
</li>
<li>软件组管理命令（类似于相关软件的打包安装）<ul>
<li><code>yum grouplist</code>：列出当前 yum 源可用的软件组列表</li>
<li><code>yum groupinstall</code>：安装指定的软件组名，组名必须为英文，如果系统为中文，可使用 <code>LANG=en_US.UTF-8</code> 来临时切换系统语言</li>
<li><code>yum groupremove</code>：卸载指定软件组</li>
</ul>
</li>
</ul>
<ul>
<li><code>yum localinstall</code>：安装本地 yum 源</li>
</ul>
</li>
</ul>
<ul>
<li><code>yum --downloadonly --downloaddir=DLDIR</code>：只下载 rpm 包，不安装。不指定下载目录，默认下载到 yum 的缓存目录中</li>
</ul>
<h2><span id="34-yum-缓存">3.4 yum 缓存</span></h2><p>缓存目录：/var/cache/yum/</p>
<ul>
<li>清除 yum 缓存<ul>
<li><code>yum clean all</code>：清除缓存目录下的所有内容（packages、headers、plugins 等）</li>
<li><code>yum clean packages</code>：清除缓存目录下的所有 packages</li>
<li><code>yum clean headers</code>：清除缓存目录下的所有 headers</li>
</ul>
</li>
</ul>
<h2><span id="35-yum-配置文件">3.5 yum 配置文件</span></h2><p>配置文件地址：<code>/etc/yum.conf</code>，其中配置了 yum 的默认缓存目录，是否开启缓存等配置，默认情况下，yum 不缓存（keepcache=0）</p>
<h2><span id="34-源码包安装">3.4 源码包安装</span></h2><h3><span id="341-源码包和-rpm-的区别">3.4.1 源码包和 rpm 的区别</span></h3><ul>
<li>基本概念上的区别前面已经说明，此处不再赘述</li>
</ul>
<ul>
<li>主要是安装位置上的区别<ul>
<li>rpm 包：默认情况下，rpm 是有基本统一的安装位置的，由该软件包的作者指定，详见：<a href="#rpmDefDir">rpm 默认安装位置</a>；同时 rpm 的安装软件包也可以手动指定安装位置，使用如下选项 <code>--prefix=&lt;dir&gt;</code>，但并不建议手动指定，通常情况下软件包作者配置的安装目录都是按照 Linux 目录的功能进行分配的，对于可执行命令都会安装到 PATH 指定的目录下，系统会提供一些便捷的调用方式，如果自定义，则需要手动配置。</li>
<li>源码包：安装位置由用户手动指定，通过情况下建议安装在 /usr/local/，此目录类似于 windows 下的 Program Fils，此时，对于软件包提供的一些可执行命令必须使用绝对路径来调用</li>
</ul>
</li>
</ul>
<h3><span id="342-安装">3.4.2 安装</span></h3><p>以 apache 的 httpd 为例：</p>
<ol>
<li>下载源码包：<code>wget http://mirrors.cnnic.cn/apache//httpd/httpd-2.4.23.tar.gz</code>，建议保存位置：<code>/usr/local/src</code>，以下操作均在此目录下执行</li>
<li>解压源码包：<code>tar -xvf httpd-2.4.23.tar.gz</code></li>
<li>进入解压目录：<code>cd httpd-2.4.23</code></li>
<li>查看 INSTALL 文件，该文件说明了安装、配置和启动命令，主要如下：<ol>
<li>安装前准备：<code>./configure --prefix=path...</code> ，进行 httpd 的基本配置和安装环境检查<ul>
<li><code>--prefix=/usr/local/apache2.4</code>：指定安装位置，建议必选</li>
<li><code>--help</code>：查看相关配置帮助</li>
<li>此命令的配置会在安装完成后保存在 MAKEFILE 文件中</li>
</ul>
</li>
<li>编译：<code>make</code></li>
<li>安装：<code>make install</code></li>
<li>启动：<code>/usr/local/apache/bin/apachectl start</code>，stop 为关闭</li>
</ol>
</li>
</ol>
<p>一般而言，源码包的安装基本有上述几步：</p>
<ol>
<li>下载源码包</li>
<li>解压源码包</li>
<li>进入解压目录（必选，因为安装命令都是在解压包中的，所以必须进入此目录，否则安装命令就需要使用绝对路径调用）<br>4.安装<ol>
<li>检查安装环境，进行软件包的基本配置</li>
<li>make，编译需要 gcc 包的支持，如果编译失败，可通过 <code>make clean</code> 来撤消</li>
<li>make install<ul>
<li>通常情况下，只有在安装过程完全结束，此时如果最后部分安装说明出现错误，才可确定为安装失败，对于安装过程中的错误，一般可以忽略</li>
<li>如果安装失败，需要手动删除安装目录，然后根据错误说明解决问题后重新安装；在编译期出现错误时，因为还未生成安装目录，所以根本不存在删除安装目录之说</li>
</ul>
</li>
<li>启动</li>
</ol>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/09/17/CentOS-7-软件安装管理/" data-id="cj7ovn50k000qcpsbnkirdjrx" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CentOS-7/">CentOS 7</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/09/17/CentOS-7-网络管理/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          CentOS_7_网络管理
        
      </div>
    </a>
  
  
    <a href="/2017/09/17/CentOS-7-磁盘管理/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">CentOS_7_磁盘管理</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CentOS-7/">CentOS 7</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/CentOS-7/" style="font-size: 10px;">CentOS 7</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/09/17/CentOS-7-系统管理/">CentOS_7_系统管理</a>
          </li>
        
          <li>
            <a href="/2017/09/17/CentOS-7-bash基础/">CentOS_7_bash基础</a>
          </li>
        
          <li>
            <a href="/2017/09/17/CentOS-7-Shell基础/">CentOS_7_Shell基础</a>
          </li>
        
          <li>
            <a href="/2017/09/17/CentOS-7-服务管理/">CentOS_7_服务管理</a>
          </li>
        
          <li>
            <a href="/2017/09/17/CentOS-7-网络管理/">CentOS_7_网络管理</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 jyhuang<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>