<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>CentOS_7_基本命令 | jyhuang&#39;s blogs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="1. 常见命令格式 2. 常见命令 2.1 查询目录中的内容 2.2 文件处理命令 2.2.1 目录/文件处理命令 2.2.1.1 建立目录 2.2.1.2 切换所在目录 2.2.1.3 查询所在目录位置 2.2.1.4 删除空目录 2.2.1.5 删除文件或目录 2.2.1.6 复制文件/目录 2.2.1.7 剪切或重命名文件/目录   2.2.2 链接命令   2.3 文件搜索命令 2.3">
<meta name="keywords" content="CentOS 7">
<meta property="og:type" content="article">
<meta property="og:title" content="CentOS_7_基本命令">
<meta property="og:url" content="http://yoursite.com/2017/09/17/CentOS-7-基本命令/index.html">
<meta property="og:site_name" content="jyhuang&#39;s blogs">
<meta property="og:description" content="1. 常见命令格式 2. 常见命令 2.1 查询目录中的内容 2.2 文件处理命令 2.2.1 目录/文件处理命令 2.2.1.1 建立目录 2.2.1.2 切换所在目录 2.2.1.3 查询所在目录位置 2.2.1.4 删除空目录 2.2.1.5 删除文件或目录 2.2.1.6 复制文件/目录 2.2.1.7 剪切或重命名文件/目录   2.2.2 链接命令   2.3 文件搜索命令 2.3">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2017-09-17T14:56:16.500Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CentOS_7_基本命令">
<meta name="twitter:description" content="1. 常见命令格式 2. 常见命令 2.1 查询目录中的内容 2.2 文件处理命令 2.2.1 目录/文件处理命令 2.2.1.1 建立目录 2.2.1.2 切换所在目录 2.2.1.3 查询所在目录位置 2.2.1.4 删除空目录 2.2.1.5 删除文件或目录 2.2.1.6 复制文件/目录 2.2.1.7 剪切或重命名文件/目录   2.2.2 链接命令   2.3 文件搜索命令 2.3">
  
    <link rel="alternate" href="/atom.xml" title="jyhuang&#39;s blogs" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">jyhuang&#39;s blogs</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-CentOS-7-基本命令" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/17/CentOS-7-基本命令/" class="article-date">
  <time datetime="2017-09-17T14:55:24.000Z" itemprop="datePublished">2017-09-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      CentOS_7_基本命令
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- toc -->
<ul>
<li><a href="#1-常见命令格式">1. 常见命令格式</a></li>
<li><a href="#2-常见命令">2. 常见命令</a><ul>
<li><a href="#21-查询目录中的内容">2.1 查询目录中的内容</a></li>
<li><a href="#22-文件处理命令">2.2 文件处理命令</a><ul>
<li><a href="#221-目录文件处理命令">2.2.1 目录/文件处理命令</a><ul>
<li><a href="#2211-建立目录">2.2.1.1 建立目录</a></li>
<li><a href="#2212-切换所在目录">2.2.1.2 切换所在目录</a></li>
<li><a href="#2213-查询所在目录位置">2.2.1.3 查询所在目录位置</a></li>
<li><a href="#2214-删除空目录">2.2.1.4 删除空目录</a></li>
<li><a href="#2215-删除文件或目录">2.2.1.5 删除文件或目录</a></li>
<li><a href="#2216-复制文件目录">2.2.1.6 复制文件/目录</a></li>
<li><a href="#2217-剪切或重命名文件目录">2.2.1.7 剪切或重命名文件/目录</a></li>
</ul>
</li>
<li><a href="#222-链接命令">2.2.2 链接命令</a></li>
</ul>
</li>
<li><a href="#23-文件搜索命令">2.3 文件搜索命令</a><ul>
<li><a href="#231-locate">2.3.1 locate</a></li>
<li><a href="#232-whereis">2.3.2 whereis</a></li>
<li><a href="#233-which">2.3.3 which</a></li>
<li><a href="#234-find">2.3.4 find</a></li>
<li><a href="#235-grep">2.3.5 grep</a></li>
</ul>
</li>
<li><a href="#24-帮助命令">2.4 帮助命令</a><ul>
<li><a href="#241-man">2.4.1 man</a></li>
<li><a href="#242-获取选项帮助">2.4.2 获取选项帮助</a></li>
<li><a href="#243-shell-内部命令帮助">2.4.3 shell 内部命令帮助</a></li>
<li><a href="#244-详细命令帮助-info">2.4.4 详细命令帮助 info</a></li>
</ul>
</li>
<li><a href="#25-压缩命令">2.5 压缩命令</a><ul>
<li><a href="#251-zip-格式">2.5.1 .zip 格式</a><ul>
<li><a href="#2511-压缩">2.5.1.1 压缩</a></li>
<li><a href="#2512-解压缩">2.5.1.2 解压缩</a></li>
</ul>
</li>
<li><a href="#252-gz-格式">2.5.2 .gz 格式</a><ul>
<li><a href="#2521-压缩">2.5.2.1 压缩</a></li>
</ul>
</li>
<li><a href="#2521-解压缩">2.5.2.1 解压缩</a></li>
<li><a href="#253-bz2-格式">2.5.3 .bz2 格式</a><ul>
<li><a href="#2531-压缩">2.5.3.1 压缩</a></li>
<li><a href="#2532-解压缩">2.5.3.2 解压缩</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#26-打包与压缩-tar">2.6 打包与压缩 tar</a><ul>
<li><a href="#261-打包">2.6.1 打包</a></li>
<li><a href="#262-解包">2.6.2 解包</a></li>
<li><a href="#263-压缩">2.6.3 压缩</a></li>
<li><a href="#264-解压缩">2.6.4 解压缩</a></li>
</ul>
</li>
<li><a href="#27-注销-关机和重启">2.7 注销、关机和重启</a><ul>
<li><a href="#271-shutdown">2.7.1 shutdown</a></li>
<li><a href="#272-其他关机重启命令">2.7.2 其他关机/重启命令</a></li>
</ul>
</li>
<li><a href="#273-注销">2.7.3 注销</a></li>
<li><a href="#28-挂载与卸载">2.8 挂载与卸载</a><ul>
<li><a href="#281-查询与自动挂载">2.8.1 查询与自动挂载</a></li>
<li><a href="#282-挂载命令">2.8.2 挂载命令</a><ul>
<li><a href="#2821-挂载光盘">2.8.2.1 挂载光盘</a></li>
<li><a href="#2822-挂载-u-盘">2.8.2.2 挂载 U 盘</a></li>
</ul>
</li>
<li><a href="#283-卸载命令">2.8.3 卸载命令</a></li>
</ul>
</li>
<li><a href="#29-用户登录查询相关命令">2.9 用户登录查询相关命令</a><ul>
<li><a href="#291-w">2.9.1 w</a></li>
<li><a href="#292-who">2.9.2 who</a></li>
<li><a href="#293-last">2.9.3 last</a></li>
<li><a href="#294-lastlog">2.9.4 lastlog</a></li>
</ul>
</li>
<li><a href="#3-其他命令">3. 其他命令</a><ul>
<li><a href="#31-输出命令">3.1 输出命令</a></li>
<li><a href="#32-统计内容命令">3.2 统计内容命令</a></li>
</ul>
</li>
<li><a href="#tips">Tips</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
<hr>
<h1><span id="1-常见命令格式">1. 常见命令格式</span></h1><p>命令 [选项] [参数]</p>
<p>注意：</p>
<ul>
<li>除个别命令不遵循此格式，其余都使用上述格式。</li>
<li>当有多个选项时，可以简写在一起</li>
<li>选项分为简化选项和完整选项，如 -a 等价于 –all</li>
</ul>
<h1><span id="2-常见命令">2. 常见命令</span></h1><h2><span id="21-查询目录中的内容">2.1 查询目录中的内容</span></h2><p>ls [选项] [文件或目录]</p>
<p>选项：</p>
<ul>
<li>-a 显示所有文件，包括隐藏文件</li>
<li>-l 显示详细信息， ll 是 ls -l 的别名</li>
<li>-d 查看目录相关属性信息</li>
<li>-h 个性化显示文件大小，默认文件大小以字节为单位，使用此选项，可转换成以 k/g 等为单位的数值，更方便阅读</li>
<li>-i 显示 inode，类似于文件在系统中的 id 号</li>
</ul>
<h2><span id="22-文件处理命令">2.2 文件处理命令</span></h2><h3><span id="221-目录文件处理命令">2.2.1 目录/文件处理命令</span></h3><h4><span id="2211-建立目录">2.2.1.1 建立目录</span></h4><p>mkdir [选项] [目录名]</p>
<p>选项：</p>
<ul>
<li>-p 递归创建</li>
</ul>
<h4><span id="2212-切换所在目录">2.2.1.2 切换所在目录</span></h4><p>cd [目录]</p>
<p>常见简化命令：</p>
<ul>
<li>cd ~/cd 进入当前用户的家目录，如 /root，/home/test</li>
<li>cd - 进入上次目录</li>
<li>cd .. 返回上一级目录</li>
<li>cd . 进入当前目录</li>
</ul>
<h4><span id="2213-查询所在目录位置">2.2.1.3 查询所在目录位置</span></h4><p>pwd</p>
<h4><span id="2214-删除空目录">2.2.1.4 删除空目录</span></h4><p>rmdir</p>
<p>注意：只能删除空目录，基本不用，通常使用下面的命令</p>
<h4><span id="2215-删除文件或目录">2.2.1.5 删除文件或目录</span></h4><p>rm [选项] [文件或目录]</p>
<p>选项：</p>
<ul>
<li>-r 递归处理，主要用于操作目录</li>
<li>-f 强制删除，不再显示是否确认删除的提示，直接删除</li>
</ul>
<h4><span id="2216-复制文件目录">2.2.1.6 复制文件/目录</span></h4><p>cp [选项] 原文件或目录 目标文件或目录</p>
<p>选项：</p>
<ul>
<li>-r 递归处理，主要用于操作目录</li>
<li>-p 连带文件目录属性一起复制</li>
<li>-d 若源文件是链接文件，则复制链接属性</li>
<li>-a 相当于 -pdr</li>
</ul>
<h4><span id="2217-剪切或重命名文件目录">2.2.1.7 剪切或重命名文件/目录</span></h4><p>mv 原文件或目录 目标文件或目录的完整名称</p>
<p>注意：</p>
<ul>
<li>此命令对目录和文件的操作是一致的，对于目录操作没有 cp/rm 中的 -r 选项。</li>
<li>如果原文件/目录与目标文件/目录在同一个路径下，即为重命名；否则为剪切。</li>
<li>如果目标文件没有指定文件名，剪切后文件名不变；否则使用指定的文件名。</li>
</ul>
<h3><span id="222-链接命令">2.2.2 链接命令</span></h3><p>ln [选项] 原文件 目标文件</p>
<p>选项：</p>
<ul>
<li>选项为空，即默认值，创建硬链接</li>
<li>-s 创建软链接</li>
</ul>
<p>说明：</p>
<ul>
<li>如果目标文件只指定了目录，表示链接文件仍使用原文件名；否则使用指定的文件名。</li>
<li>创建软链接时，如果原文件和软链接不在同一目录下，那么原文件必须使用绝对路径，否则软链接无法找到该原文件。建议：统一使用绝对路径。</li>
</ul>
<h2><span id="23-文件搜索命令">2.3 文件搜索命令</span></h2><h3><span id="231-locate">2.3.1 locate</span></h3><p>格式：locate 文件名</p>
<p>按文件名（且只能按文件名）进行搜索</p>
<p>说明：</p>
<ul>
<li>此命令需要安装 mlocate 包，使用 yum -y install mlocate 命令来完成安装。</li>
<li>此命令并非遍历所有文件进行搜索，而是搜索一个数据库文件：/var/lib/mlocate/mlocate.db，所以此命令的效率较 find 要高出很多</li>
<li>由于是搜索数据文件，所以，对于刚安装该包的情况，需要先生成对应的数据文件，使用命令：updatedb</li>
<li>此数据文件默认是每天更新，所以对于当天新建的文件/目录是无法搜索到的，此时需要手动更新，使用命令：updatedb</li>
</ul>
<p>优缺点：</p>
<ul>
<li>优点：查询效率高，占用资源少</li>
</ul>
<ul>
<li>缺点<ul>
<li>需要安装 mlocate 包，并且手动生成和更新数据文件</li>
<li>搜索功能并不强大，仅能通过文件名进行搜索</li>
</ul>
</li>
</ul>
<p>配置文件：</p>
<p>mlocate 的搜索依赖于 /etc/updatedb.conf 配置文件，此配置文件中主要有如下几个参数：</p>
<ul>
<li>PRUNE_BIND_MOUNTS = “yes” 开启搜索限制，使用下面的配置生效</li>
<li>PRUNEFS 不搜索此参数列出的文件系统</li>
<li>PRUNENAMES 不搜索此参数列出的文件类型，如：.git .hg .svn</li>
<li>PRUNEPATHS 不搜索此参数列出的文件目录中的文件，如：/media /mnt /tmp /var/tmp</li>
</ul>
<h3><span id="232-whereis">2.3.2 whereis</span></h3><p>格式：whereis [选项] 命令名</p>
<p>搜索系统命令的命令，搜索命令所在的路径及帮助文件所有位置</p>
<p>选项：</p>
<ul>
<li>-b 只查找可执行文件</li>
<li>-m 只查找帮助文档</li>
</ul>
<h3><span id="233-which">2.3.3 which</span></h3><p>格式：which 命令名</p>
<p>搜索系统命令的命令，搜索命令所在的路径及该命令的别名（完整命令）</p>
<p>注意：</p>
<p>whereis 和 which 命令比较相似，都是搜索系统命令的命令，但不是所有的系统命令都能通过这两个命令来找到对应的路径的。</p>
<h3><span id="234-find">2.3.4 find</span></h3><p>格式：find scope 选项 [condition]</p>
<p>选项（常见）：</p>
<ul>
<li>-name 按照文件名进行搜索，condition 为文件名</li>
<li>-iname 文件名不区分大小写搜索，condition 为文件名</li>
<li>-user 按照文件所有者进行搜索，condition 为 user</li>
<li>-nouser 查找没有所有者的文件，没有 condition</li>
</ul>
<ul>
<li>time 按照相关时间进行搜索，condtion 为时间，默认单位是天，如：+10 代表 10 天前，10 代表第 10 天当天，-10 代表 10 天内。<ul>
<li>-atime 按照文件访问时间进行搜索</li>
<li>-ctime 按照文件属性的修改时间进行搜索</li>
<li>-mtime 按照文件内容的修改时间进行搜索</li>
</ul>
</li>
<li>-size 按照文件大小进行搜索，condition 为文件大小， 默认单位为计算机硬盘单个扇区的大小，通常为 512k，建议带单位：k，M（注意大小写）<ul>
<li>-25k 小于 25k 的文件</li>
<li>25k 等于 25k 的文件</li>
<li>+ 25k 大于 25k 的文件</li>
</ul>
</li>
</ul>
<ul>
<li>-inum 按照 inode 的值进行搜索</li>
<li>逻辑运算符，用于多条件查询，如 find /root -size +10k -a -size -1M<ul>
<li>-a and 逻辑与，两个条件同时满足</li>
<li>-o or 逻辑或，两个条件满足其一即可</li>
</ul>
</li>
<li><p>-exec 命令 {} \;，对查询结果执行指定的命令，<strong>注意：<code>-exec</code> 和 <code>{} \;</code> 是固定格式</strong>，如：find /root -name abc -exec rm -rf {} \;将查询到的结果文件删除<br>说明：</p>
</li>
<li><p>find 是非常强大的搜索命令，相对的，使用 find 搜索非常耗费系统资源</p>
</li>
<li>避免使用大范围搜索，即 scope 的值尽量使用更小的、更明确的目录</li>
</ul>
<ul>
<li>find 支持通配符操作，使用时建议用引号括起来，否则，有可能不能识别。主要支持的通配符有：<ul>
<li>* 匹配任意内容</li>
<li>? 匹配任意一个字符</li>
<li>[abc] 匹配中括号中的任意一个字符</li>
</ul>
</li>
</ul>
<h3><span id="235-grep">2.3.5 grep</span></h3><p>格式：grep [选项] 字符串 文件名</p>
<p>在文件中搜索符合条件的字符串，支持模糊查询，需要使用正则表达式。</p>
<p>选项：</p>
<ul>
<li>-i 忽略大小写</li>
<li>-v 排除指定字符串</li>
</ul>
<h2><span id="24-帮助命令">2.4 帮助命令</span></h2><h3><span id="241-man">2.4.1 man</span></h3><p>获取指定命令的帮助信息，全称为 manual，帮助手册的意思</p>
<p>格式：man [选项] 命令</p>
<p>选项：</p>
<ul>
<li>-f 查看命令拥有哪些级别的帮助，相当于 whatis 命令</li>
<li>-k 查看与命令相关的所有帮助信息，找到的不一定都是命令，相当于 apropos 命令</li>
<li>man 的级别（1-9 级别描述见下），如 man 1 ls</li>
</ul>
<p><strong>man 的级别</strong></p>
<ol>
<li>可执行程序或 shell 命令</li>
<li>由内核提供的系统调用的方法</li>
<li>程序库调用的库中的方法</li>
<li>特殊文件，主要是 /dev 中的文件</li>
<li>配置文件</li>
<li>游戏</li>
<li>其它杂项</li>
<li>系统管理员命令，通常给 root 用户使用</li>
<li>内核相关</li>
</ol>
<p>级别不同，代表该命令的不同使用情况，对于含有多个 man 级别的命令，默认只会查找级别最低的那个帮助信息，此时，就需要使用 man 的级别选项来指定需要的对应 man 级别的命令的帮助信息。</p>
<h3><span id="242-获取选项帮助">2.4.2 获取选项帮助</span></h3><p>格式：命令 –help</p>
<p>列出当前命令支持的所有选项及对应的说明使用</p>
<h3><span id="243-shell-内部命令帮助">2.4.3 shell 内部命令帮助</span></h3><p>格式：shell 命令 help</p>
<p>仅对 shell 命令有效，其他命令的帮助使用 man</p>
<h3><span id="244-详细命令帮助-info">2.4.4 详细命令帮助 info</span></h3><p>格式：info 命令</p>
<p>列出该命令相关的所有帮助信息，说明相当详细，篇幅过多，适合作为完整文档进行学习，不利于快速查找，操作较繁琐。</p>
<p>主要操作：</p>
<ul>
<li>Enter 在带有 * 的目录上回车可跳转到该小节的具体说明</li>
<li>u 跳转到上层目录</li>
<li>n 跳转到下一小节</li>
<li>p 跳转到上一小节</li>
<li>q 退出</li>
</ul>
<h2><span id="25-压缩命令">2.5 压缩命令</span></h2><p>Linux 对于压缩文件，在显示详细信息时，文件名的颜色会和普通文件不同，通常为红色。</p>
<h3><span id="251-zip-格式">2.5.1 .zip 格式</span></h3><p>此格式与 windows 中的 zip 完全兼容，可以在两个系统间交叉地进行压缩和解压缩</p>
<h4><span id="2511-压缩">2.5.1.1 压缩</span></h4><p>格式：zip [选项] 目标文件 源文件</p>
<p>选项：</p>
<ul>
<li>-r 递归处理，主要用于操作目录</li>
</ul>
<p>说明：</p>
<ul>
<li>目标文件在前，源文件在后</li>
<li>如果目标文件没有 .suffix，此命令会自动为其加上 .zip 的后缀；否则直接使用指定的文件名（如 abc.txt），建议指定 .zip 的后缀，不规则的后缀名容易导致解压错误、不方便识别和管理。</li>
</ul>
<h4><span id="2512-解压缩">2.5.1.2 解压缩</span></h4><p>格式：unzip 源文件 [选项] 参数</p>
<p>说明：</p>
<ul>
<li>解压缩文件或目录的命令格式完成一致，解压缩目录不需要使用 -r 选项。</li>
<li>指定解压的路径：unzip abc.zip -d /root，将当前目录下的 abc.zip 解压到 /root 下。<strong>注意：此处的参数是目录不是文件名，如果指定文件名，会多出一层指定文件名的目录；解压的文件名默认为压缩文件去掉后缀名</strong></li>
</ul>
<h3><span id="252-gz-格式">2.5.2 .gz 格式</span></h3><h4><span id="2521-压缩">2.5.2.1 压缩</span></h4><p>格式：gzip [选项] 源文件</p>
<p>选项：</p>
<ul>
<li>-c 保持源文件不改变， 将压缩后的文件输出到指定目标中（控制台，文件等）</li>
<li>-r 递归处理，主要用于操作目录</li>
</ul>
<p>此命令在压缩完成后不保留源文件</p>
<p>说明：</p>
<ul>
<li>此命令会自动在当前目录产生一个与源文件同名的，以 .gz 为后缀的压缩文件</li>
<li>由于此压缩命令不支持保留源文件的操作，可以结合 -c 使用 gzip -c test &gt; /tmp/test.gz，即：保留 test 源文件，将压缩后的文件写入到目标文件 /tmp/test.gz 中</li>
<li>此命令对于目录的压缩，并非压缩目录本身，而是递归地压缩目录中的文件</li>
</ul>
<h3><span id="2521-解压缩">2.5.2.1 解压缩</span></h3><p>格式： gzip -d [选项] 压缩文件 / gunzip [选项] 压缩文件</p>
<p>选项：</p>
<ul>
<li>-c 保持压缩文件不变，将解压后的文件输出到指定目标中</li>
<li>-r 递归处理，主要用于操作目录</li>
</ul>
<p>将压缩文件解压到指定文件：在原有命令后增加 &gt; 目标文件</p>
<h3><span id="253-bz2-格式">2.5.3 .bz2 格式</span></h3><h4><span id="2531-压缩">2.5.3.1 压缩</span></h4><p>格式：bzip [选项] 源文件</p>
<p>选项：</p>
<ul>
<li>-k 保留源文件</li>
</ul>
<p>说明：</p>
<ul>
<li>此命令会自动在当前目录产生一个与源文件同名的，以 .bz2 为后缀的压缩文件</li>
<li>默认情况下，此压缩命令不保留源文件，需要保留时，使用 -k 选项</li>
<li>此命令不支持压缩目录</li>
</ul>
<h4><span id="2532-解压缩">2.5.3.2 解压缩</span></h4><p>格式 bzip2 -d [选项] 压缩文件 / bunzip2 [选项] 压缩文件</p>
<p>选项：</p>
<p>-k 保留压缩文件</p>
<h2><span id="26-打包与压缩-tar">2.6 打包与压缩 tar</span></h2><p>除了上面提到的三种压缩格式（.zip, .gz, .bz2），其实更常用的是：.tar.gz，.tar.bz2，所以，相比于 2.5 中的压缩命令，Linux 中更常用的 tar 命令，它集成了打包与压缩命令，能更好地处理目录的压缩，建议使用此命令。</p>
<h3><span id="261-打包">2.6.1 打包</span></h3><p>格式：tar [选项] 目标包名 源文件</p>
<p>选项：</p>
<ul>
<li>-c 打包</li>
<li>-v 显示打包的详细过程信息</li>
<li>-f 指定打包后的目标包名</li>
</ul>
<h3><span id="262-解包">2.6.2 解包</span></h3><p>格式：tar [选项] 包文件名</p>
<p>选项：</p>
<ul>
<li>-x 解包</li>
<li>-v 显示解饭详细过程信息</li>
<li>-f 指定需要解包的文件名</li>
</ul>
<h3><span id="263-压缩">2.6.3 压缩</span></h3><p>其实，.tar.gz/.tar.bz2 格式文件就是先打包为 .tar 文件，再压缩为 .gz/.bz2 文件。我们可以通过先使用 tar 命令打包再使用 gzip/bzip2 命令的方式完成操作，但相对麻烦，所以 tar 命令提供了更加便捷的方式。</p>
<p>格式：tar [选项] 目标压缩包名 源文件</p>
<p>选项：</p>
<ul>
<li>-z 指定格式为 .tar.gz</li>
<li>-j 指定格式为 .tar.bz2</li>
<li>-c 打包压缩</li>
<li>-v 显示详细过程信息</li>
<li>-f 指定打包压缩后的目标包名</li>
</ul>
<h3><span id="264-解压缩">2.6.4 解压缩</span></h3><p>格式：tar [选项] 包文件名</p>
<p>选项：</p>
<ul>
<li>-z 指定格式为 .tar.gz</li>
<li>-j 指定格式为 .tar.bz2</li>
<li>-x 解包解压缩</li>
<li>-v 显示详细过程信息</li>
<li>-f 指定需要解包的文件名</li>
</ul>
<h2><span id="27-注销-关机和重启">2.7 注销、关机和重启</span></h2><h3><span id="271-shutdown">2.7.1 shutdown</span></h3><p>格式：shutdown [选项] [时间]</p>
<p>选项：</p>
<ul>
<li>-c 取消之前使用 shutdown 指定的关机或重启命令</li>
<li>-h 关机</li>
<li>-r 重启</li>
</ul>
<p>说明：</p>
<ul>
<li>默认情况下，即直接使用 shutdown 命令，不加任何参数，就是指关机命令，但不是立刻，而是一分钟后；如果加上对应选项，但没指定时间，默认也是等待一分钟</li>
</ul>
<p>例：</p>
<ul>
<li>shutdown -h now 立即关机</li>
<li>shutdown -r 16:00 在指定的时间重启</li>
</ul>
<h3><span id="272-其他关机重启命令">2.7.2 其他关机/重启命令</span></h3><p>关机：</p>
<ul>
<li>halt</li>
<li>poweroff</li>
<li>init 0</li>
</ul>
<p>重启：</p>
<ul>
<li>reboot (相对安全，可以使用)</li>
<li>init 6</li>
</ul>
<p>相对于 shutdown 命令，上述命令并不是太好，可能会出现一些文件丢失、硬件损坏的情况，不建议使用。</p>
<h2><span id="273-注销">2.7.3 注销</span></h2><p>格式：logout</p>
<p>建议不使用时就注销</p>
<h2><span id="28-挂载与卸载">2.8 挂载与卸载</span></h2><h3><span id="281-查询与自动挂载">2.8.1 查询与自动挂载</span></h3><ul>
<li>mount 查询系统中已经挂载的设备</li>
<li>mount -a 依据配置文件 /etc/fstab 的内容，进自动挂载</li>
</ul>
<h3><span id="282-挂载命令">2.8.2 挂载命令</span></h3><p>格式：mount [-t 文件系统] [-o 特殊选项] 设备文件名 挂载点</p>
<p>选项：</p>
<ul>
<li>-t 指定挂载设备的文件系统类型，如 CentOS7 默认的 ext4，光盘默认的 iso9660 等文件系统</li>
<li><p>-o 指定挂载时的额外选项，常见的参数如下：</p>
<p>  | 参数 | 说明 |<br>  | — | — |<br>  | atime/noatime | 访问分区文件时是否更新访问时间，默认为更新 |<br>  | async/sync | 异步/同步 |<br>  | auto/noauto | mount -a 命令执行时，是否会自动安装 /etc/fstab 文件中配置的挂载点 |<br>  | defautls | 默认值，相当于指定 rw,suid,dev,exec,auto,nouser,async 这七个选项 |<br>  | exec/noexec | 设定是否允许在文件系统中执行可执行文件，默认是 exec 允许|<br>  | remount | 重新挂载已经挂载的分区，一般用于指定特殊挂载选项后的分区刷新 |<br>  | rw/ro | 指定挂载分区内文件的读写权限：读写/只读，默认为读写 |<br>  | suid/nosuid | 挂载分区时是否具有 SUID 的权限，默认是具有 |<br>  | user/nouser | 挂载分区时指定分区是否允许普通用户挂载，默认是不允许，只有 root 用户可以挂载分区 |<br>  | usrquota | 指定分区是否支持用户磁盘配额，默认不支持 |<br>  | grpquota | 指定分区是否支持组磁盘配额，默认不支持 |</p>
</li>
<li><p>设备文件名，不同的设备系统会自动分配对应的设备文件名，常见的如：光盘 -&gt; /dev/sr0,/dev/cdrom，</p>
</li>
<li>挂载点，任意空目录都可以作为挂载点，如系统自带的 /，/home，/mnt 等</li>
</ul>
<p>说明：</p>
<ul>
<li>关于上述挂载的额外选项，如果没有明确的需求，不建议修改默认值</li>
<li>关于 exec/noexec 选项，如果在挂载分区时设置值为 noexec，此时，对于分区内的可执行文件，即使是 root 用户，文件也确实具有可执行权限，执行时也会提示 permission denies</li>
</ul>
<h4><span id="2821-挂载光盘">2.8.2.1 挂载光盘</span></h4><ol>
<li>建立挂载点<br> mkdir /mnt/cdrom/ ，挂载点可以是任意的空目录，不过 Linux 已经提供了这样的空目录：/mnt，/media，建议使用 /mnt，/media 是后期新增的，并不是所有 Linux 的版本都具有，所以，更常见的是在 /mnt 下自定义空目录挂载相应的分区</li>
<li>挂载光盘<br> mount -t iso9660 /dev/sr0 /mnt/cdrom/，对于光盘来说，-t 选项是可以省略的，因为系统为自动识别到需要挂载的分区为光盘，然后设置文件分区的文件系统为 iso9660；设备文件名 /dev/sr0 是 Linux 默认提供的，当然也可以使用 /dev/cdrom，不过此设备文件名其实是 /dev/sr0 的一个软链接，所以，建议还是使用 /dev/sr0；挂载点即创建的空目录</li>
</ol>
<h4><span id="2822-挂载-u-盘">2.8.2.2 挂载 U 盘</span></h4><ol>
<li>查看 U 盘的设备文件名，对于光盘，该设备文件名就是确定的 /dev/sr0 或者 /dev/cdrom，而对于 U 盘，需要通过命令查看：fdisk -l，此命令会列出当前系统下的所有磁盘设备相关信息</li>
<li>创建挂载点<br> mkdir /mnt/usb/</li>
<li>挂载 U 盘<br> mount -t vfat /dev/sdb1 /mnt/usb/，关于文件系统，此处使用的是 fat32，目前最为常见的 U 盘文件系统，支持多操作系统，注意：Linux/Unix 默认是不支持 NTFS 文件系统的。</li>
</ol>
<h3><span id="283-卸载命令">2.8.3 卸载命令</span></h3><p>格式：umount 设备文件名/挂载点</p>
<p>说明：</p>
<ul>
<li>设备文件名和挂载点只能写一个</li>
<li>卸载时，必须退出挂载点所在目录，否则无法卸载</li>
<li>对于任何外置分区，用完之后必须卸载</li>
</ul>
<p>举例：umount /dev/sr0 == umount /mnt/cdrom/</p>
<h2><span id="29-用户登录查询相关命令">2.9 用户登录查询相关命令</span></h2><h3><span id="291-w">2.9.1 w</span></h3><p>输出信息：</p>
<ul>
<li>统计信息<ul>
<li>当前时间</li>
<li>up … 至今为止的开机时间</li>
<li>… users 此次开机后登录过后用户个数</li>
<li>load average … … … 三段时间分别表示系统在一/五/十五分钟内的平均负载情况，值越大，系统压力越大</li>
</ul>
</li>
</ul>
<ul>
<li>USER 当前登录的用户名</li>
<li>TTY 使用的登录终端</li>
<li>FROM 登录的 IP 地址</li>
<li>LOGIN@ 登录时间</li>
<li>IDLE 用户闲置时间</li>
<li>JCPU 和终端连接人所有进程占用的时间。这个时间里并不包括过去的后台作业，但包括当前正在运行的后台作业所占用的时间</li>
<li>PCPU 当前进程所占用的时间</li>
<li>WHAT 当前执行的命令</li>
</ul>
<h3><span id="292-who">2.9.2 who</span></h3><p>输出信息：</p>
<p>用户名 登录终端 登录时间(IP 地址)</p>
<h3><span id="293-last">2.9.3 last</span></h3><p>此命令是查询当前登录和过去登录的所有用户的信息，实质是读取 /var/log/wtmp 文件数据，不过此文件保存的都是二进制数据，无法直接通过编辑器直接查看，也是防止有人恶意访问后修改自己的访问记录。</p>
<p>输出信息：</p>
<p>用户名 登录终端 登录IP 登录时间 退出时间（在线时长）</p>
<h3><span id="294-lastlog">2.9.4 lastlog</span></h3><p>此命令是查询系统中所有用户最后一次登录系统的时间</p>
<p>输出信息：</p>
<p>用户名 登录终端 登录IP 最后一次登录时间</p>
<h2><span id="3-其他命令">3. 其他命令</span></h2><h3><span id="31-输出命令">3.1 输出命令</span></h3><p>格式：echo [选项] [输出内容]</p>
<p>选项：</p>
<ul>
<li>-e 支持反斜线控制的字符转换<ul>
<li>常见的反斜线控制的字符：<ul>
<li>\a 输出警告音</li>
<li>\b 退格键，即向左删除键</li>
<li>\n 换行符</li>
<li>\r 回车键</li>
<li>\t 制表符，即 tab 键</li>
<li>\v 垂直制表符</li>
<li>\0nnn 八进制，nnn 为三位八进制数</li>
<li>\xhh 十六进制，hh 为十六进制数</li>
</ul>
</li>
<li>颜色控制，格式：echo -e “\e[1;30mChina\e[0m”，常见颜色如下：<ul>
<li>30m 黑色</li>
<li>31m 红色</li>
<li>32m 绿色</li>
<li>33m 黄色</li>
<li>34m 蓝色</li>
<li>35m 洋红</li>
<li>36m 青色</li>
<li>37m 白色</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>注意：</p>
<ul>
<li>双引号与单引号：两者都可用来引用内容，但双引号中使用 “!”（英文字符） 会报错</li>
</ul>
<h3><span id="32-统计内容命令">3.2 统计内容命令</span></h3><p>格式：wc [选项] [文件名]</p>
<p>选项：</p>
<ul>
<li>-c 统计内容的字节数</li>
<li>-w 统计内容的单词数</li>
<li>-l 统计内容的行数</li>
</ul>
<p>说明：默认情况下，即未指定需要统计的文件名，此命令统计的对象是键盘录入，结束录入的方法是 Ctrl + d ，如当前行有录入内容，使用两次快捷键，如当前行无内容，一次即可。</p>
<h2><span id="tips">Tips</span></h2><ol>
<li>显示系统时间：date</li>
<li>显示系统相关编码：locale [-a]</li>
<li>输出系统的环境变量：echo \$PATH, echo \$SHELL, echo \$HOSTNAME 等</li>
<li>创建文件：touch 文件名</li>
<li>分屏查看文件内容：more 文件名</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/09/17/CentOS-7-基本命令/" data-id="cj7ovn5070005cpsbf54nn66a" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CentOS-7/">CentOS 7</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/09/17/CentOS-7-用户管理/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          CentOS_7_用户管理
        
      </div>
    </a>
  
  
    <a href="/2017/09/17/CentOS-7-相关概念/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">CentOS_7_相关概念</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CentOS-7/">CentOS 7</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/CentOS-7/" style="font-size: 10px;">CentOS 7</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/09/17/CentOS-7-系统管理/">CentOS_7_系统管理</a>
          </li>
        
          <li>
            <a href="/2017/09/17/CentOS-7-bash基础/">CentOS_7_bash基础</a>
          </li>
        
          <li>
            <a href="/2017/09/17/CentOS-7-Shell基础/">CentOS_7_Shell基础</a>
          </li>
        
          <li>
            <a href="/2017/09/17/CentOS-7-服务管理/">CentOS_7_服务管理</a>
          </li>
        
          <li>
            <a href="/2017/09/17/CentOS-7-网络管理/">CentOS_7_网络管理</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 jyhuang<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>